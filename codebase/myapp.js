!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/codebase/",e(e.s=19)}([function(t,e,n){"use strict";n.d(e,"c",function(){return l});var r=n(21);n.d(e,"a",function(){return r.a});var o=n(1);n.d(e,"b",function(){return o.a});var i=(n(8),n(28),n(29),n(30),n(31)),u=n(32),s=n(35),a=n(36),c=n(37),f=n(38),p=n(39),l={UnloadGuard:i.a,Locale:u.a,Menu:s.a,Theme:c.a,User:p.a,Status:a.a,UrlParam:f.a};window.Promise||(window.Promise=webix.promise)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(6),o=n(7),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e,n){var r=t.call(this)||this;return r.app=e,r._name=n,r._children=[],r}return u(e,t),e.prototype.ui=function(t,e){e=e||{};var n=e.container||t.container,o=this.app.createView(t);return this._children.push(o),o.render(n,null,this),"object"!==(void 0===t?"undefined":i(t))||t instanceof r.a?o:o.getRoot()},e.prototype.show=function(t,e){var n=this;if(e=e||{},"string"==typeof t){if("/"===t.substr(0,1))return this.app.show(t);if(0===t.indexOf("../")){var r=this.getParentView();return void(r?r.show("./"+t.substr(3),e):this.app.show("/"+t.substr(3)))}0===t.indexOf("./")&&(t=t.substr(2));var u=this.getSubViewInfo(e.target);if(!u)return this.app.show("/"+t);if(u.parent!==this)return u.parent.show(t,e)}var s=Object(o.a)(this.app.getRouter().get());if("object"===(void 0===t?"undefined":i(t)))if(webix.isArray(t))s[this._index+t[0]].page=t[1],t="";else{var a=[];for(var c in t)a.push(encodeURIComponent(c)+"="+encodeURIComponent(t[c]));t="?"+a.join("&")}if("string"==typeof t){if("?"===t.substr(0,1)){var f=t.indexOf("/"),p=t;f>-1&&(p=t.substr(0,f));var l=Object(o.a)(p);webix.extend(s[this._index-1].params,l[0].params,!0),t=f>-1?t.substr(f+1):""}var h=""===t?s.slice(this._index):Object(o.a)(t),d=null;if(this._index){d=s.slice(0,this._index).concat(h);for(var v=0;v<d.length;v++)d[v].index=v+1;var y=Object(o.b)(d);return this.app.canNavigate(y,this).then(function(t){return y!==t?n.app.show(t):n._finishShow(d,t)}).catch(function(){return!1})}return this._finishShow(h,"")}},e.prototype.init=function(t,e){},e.prototype.ready=function(t,e){},e.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},e.prototype.urlChange=function(t,e){},e.prototype.destroy=function(){},e.prototype.destructor=function(){this.destroy();for(var e=this._children,n=e.length-1;n>=0;n--)e[n]&&e[n].destructor&&e[n].destructor();this.app=this._children=null,this._root.destructor(),t.prototype.destructor.call(this)},e.prototype.use=function(t,e){t(this.app,this,e)},e.prototype._render=function(t){var e=this,n=this.config();return n.then?n.then(function(n){return e._render_final(n,t)}):this._render_final(n,t)},e.prototype._render_final=function(t,e){var n=this,r=this._container;if(r&&r.$destructed)return Promise.reject("Container destroyed");var o,i={ui:{}};this.app.copyConfig(t,i.ui,this._subs),this.app.callEvent("app:render",[this,e,i]),i.ui.$scope=this;try{if(r&&r.getParentView){var u=r.getParentView();u&&"multiview"===u.name&&!i.ui.id&&(i.ui.id=r.config.id)}this._root=this.app.webix.ui(i.ui,this._container),this._root.getParentView()&&(this._container=this._root),this._init(this._root,e),o=this._urlChange(e).then(function(){return n.ready(n._root,e)})}catch(t){o=Promise.reject(t)}return o.catch(function(t){return n._initError(n,t)})},e.prototype._init=function(t,e){return this.init(t,e)},e.prototype._urlChange=function(t){var e=this;this.app.callEvent("app:urlchange",[this,t,this._index]);var n=[];for(var r in this._subs){var i=this._subs[r];if(i.url)if("string"==typeof i.url){var u=Object(o.a)(i.url);u.map(function(t){t.index=0}),n.push(this._createSubView(i,u))}else{var s=i.view;"function"!=typeof i.url||s instanceof i.url||(s=new i.url(this.app,"")),s||(s=i.url),n.push(this._renderSubView(i,s,t))}else if("default"===r&&t&&t.length>1){var a=t.slice(1);n.push(this._createSubView(i,a))}}return Promise.all(n).then(function(){e.urlChange(e._root,t)})},e.prototype._initError=function(t,e){return this.app.error("app:error:initview",[e,t]),!0},e.prototype._createSubView=function(t,e){var n=this;return this.app.createFromURL(e,t.view).then(function(r){return n._renderSubView(t,r,e)})},e.prototype._renderSubView=function(t,e,n){var r=this.app.webix.$$(t.id);return e.render(r,n,this).then(function(n){return t.view&&t.view!==e&&t.view.destructor(),t.view=e,t.id=n.config.id,n})},e.prototype._finishShow=function(t,e){var n;return this._index?(n=this._renderPartial(t.slice(this._index-1)),this.app.getRouter().set(e,{silent:!0}),this.app.callEvent("app:route",[t])):(t.map(function(t){return t.index=0}),n=this._renderPartial([null].concat(t))),n},e.prototype._renderPartial=function(t){return this._init_url_data(t),this._urlChange(t)},e}(r.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=n(10),a=n(3),c=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this,e={view:"form",elements:[{rows:[{view:"textarea",label:"Word",name:"word",height:50},{view:"textarea",label:"Translate",name:"translate",height:50},{view:"combo",label:"Part of speech",options:{data:s.a},name:"partSpeech",labelPosition:"top"},{cols:[{view:"button",label:"Save",type:"form",click:function(){var e=t.getRoot().queryView({view:"form"}),n=e.getValues();if(!e.validate())return!1;n.id?a.a.updateItem(n.id,n):a.a.add(n),t.hideFunction()}},{view:"button",label:"Cancel",click:function(){t.hideFunction()}}]}]}],rules:{word:webix.rules.isNotEmpty,translate:webix.rules.isNotEmpty}};return{view:"window",position:"center",head:function(t){return t+" word"},width:400,body:e}},e.prototype.init=function(){var t=this;this.on(this.app,"dataEditGroup",function(e){var n=t.getRoot();n.queryView({view:"form"}).setValues(e);var r=void 0;r=e.id?"Edit":"Add",n.getHead().setValues(r),n.queryView({view:"button",type:"form"}).setValue(r)})},e.prototype.showWindow=function(){this.getRoot().show()},e.prototype.hideFunction=function(){var t=this.getRoot().queryView({view:"form"});t.clear(),t.clearValidation(),this.getRoot().hide(),this.app.callEvent("dataEditGroup",[{}])},e}(u.b);e.default=c},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=new webix.DataCollection({url:"http://localhost:8096/word",save:"rest->http://localhost:8096/word"})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this;return{view:"toolbar",elements:[{view:"label",label:"My App"},{view:"button",label:"Log in",width:100,click:function(){t.app.show("userIN?user=log")}},{view:"button",label:"Sign in",width:100,click:function(){t.app.show("userIN?user=new")}}]}},e}(u.b);e.default=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=n(10),a=n(3),c=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this,e={view:"form",elements:[{rows:[{view:"textarea",label:"Word",name:"word",height:50},{view:"textarea",label:"Translate",name:"translate",height:50},{view:"combo",label:"Part of speech",options:{data:s.a},name:"partSpeech",labelPosition:"top"},{cols:[{view:"button",label:"Save",type:"form",click:function(){var e=t.getRoot().queryView({view:"form"}),n=e.getValues();if(!e.validate())return!1;n.id?a.a.updateItem(n.id,n):a.a.add(n),t.hideFunction()}},{view:"button",label:"Cancel",click:function(){t.hideFunction()}}]}]}],rules:{word:webix.rules.isNotEmpty,translate:webix.rules.isNotEmpty}};return{view:"window",position:"center",head:function(t){return t+" word"},width:400,body:e}},e.prototype.init=function(){var t=this;this.on(this.app,"dataEditWord",function(e){var n=t.getRoot();n.queryView({view:"form"}).setValues(e);var r=void 0;r=e.id?"Edit":"Add",n.getHead().setValues(r),n.queryView({view:"button",type:"form"}).setValue(r)})},e.prototype.showWindow=function(){this.getRoot().show()},e.prototype.hideFunction=function(){var t=this.getRoot().queryView({view:"form"});t.clear(),t.clearValidation(),this.getRoot().hide(),this.app.callEvent("dataEditWord",[{}])},e}(u.b);e.default=c},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this._id=webix.uid(),this._events=[],this._subs={},this._data={}}return t.prototype.getRoot=function(){return this._root},t.prototype.destructor=function(){for(var t=this._events,e=t.length-1;e>=0;e--)t[e].obj.detachEvent(t[e].id);for(var n in this._subs){var r=this._subs[n].view;r&&r.destructor()}this._events=this._container=this.app=this._parent=null},t.prototype.setParam=function(t,e,n){this._data[t]!==e&&(this._data[t]=e,this.app.callEvent("app:paramchange",[this,t,e,n])&&n&&this.show((r={},r[t]=e,r)));var r},t.prototype.getParam=function(t,e){var n=this._data[t];if(void 0!==n||!e)return n;var r=this.getParentView();return r?r.getParam(t,e):void 0},t.prototype.getUrl=function(){return this._url},t.prototype.render=function(t,e,n){var r=this;this._parent=n,e&&(this._index=e[0].index),this._init_url_data(e),t=t||document.body;var o="string"==typeof t?webix.toNode(t):t;return this._container!==o?(this._container=o,this._render(e).then(function(){return r.getRoot()})):this._urlChange(e).then(function(){return r.getRoot()})},t.prototype.getIndex=function(){return this._index},t.prototype.getId=function(){return this._id},t.prototype.getParentView=function(){return this._parent},t.prototype.$$=function(t){return"string"==typeof t?this.getRoot().queryView(function(e){return e.config.id===t||e.config.localId===t},"self"):t},t.prototype.on=function(t,e,n){var r=t.attachEvent(e,n);return this._events.push({obj:t,id:r}),r},t.prototype.contains=function(t){for(var e in this._subs){var n=this._subs[e].view;if(n===t||n.contains(t))return!0}return!1},t.prototype.getSubView=function(t){var e=this.getSubViewInfo(t);if(e)return e.subview.view},t.prototype.getSubViewInfo=function(t){var e=this._subs[t||"default"];return e?{subview:e,parent:this}:this._parent?this._parent.getSubViewInfo(t):null},t.prototype.getName=function(){return this._name},t.prototype._init_url_data=function(t){t&&t[0]&&(this._data={},webix.extend(this._data,t[0].params,!0)),this._url=t},t}()},function(t,e,n){"use strict";function r(t){"/"===t[0]&&(t=t.substr(1));for(var e=t.split("/"),n=[],r=0;r<e.length;r++){var o=e[r],i={},u=o.indexOf(":");if(-1===u&&(u=o.indexOf("?")),-1!==u)for(var s=o.substr(u+1).split(/[\:\?\&]/g),a=0,c=s;a<c.length;a++){var f=c[a],p=f.split("=");i[p[0]]=decodeURIComponent(p[1])}n[r]={page:u>-1?o.substr(0,u):o,params:i,index:r+1}}return n}function o(t){for(var e=[],n=0,r=t;n<r.length;n++){var o=r[n];e.push("/"+o.page);var u=i(o.params);u&&e.push("?"+u)}return e.join("")}function i(t){var e=[];for(var n in t)e.length&&e.push("&"),e.push(n+"="+encodeURIComponent(t[n]));return e.join("")}e.a=r,e.b=o},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(24),o=n.n(r),i=function(){function t(t,e){var n=this;this.config=e||{},this._prefix=this.config.routerPrefix,void 0===this._prefix&&(this._prefix="!");var r=function(t){};o()(this._prefix+"*",function(t){return n._lastUrl="",r(n.get())}),r=t}return t.prototype.set=function(t,e){if(this.config.routes){var n=t.split("?",2);for(var r in this.config.routes)if(this.config.routes[r]===n[0]){t=r+(n.length>1?"?"+n[1]:"");break}}this._lastUrl=t,o.a.navigate(this._prefix+t,e)},t.prototype.get=function(){var t=this._lastUrl||(window.location.hash||"").replace("#"+this._prefix,"");if(this.config.routes){var e=t.split("?",2),n=this.config.routes[e[0]];n&&(t=n+(e.length>1?"?"+e[1]:""))}return t},t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=n(27),a=n(2),c=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this;return{rows:[{view:"search",icon:"search",placeholder:"Write name of group",on:{onTimedKeyPress:function(){var e=t.getRoot().queryView({view:"list"}),n=t.getRoot().queryView({view:"search"}).getValue();e.filter(function(t){var e=n.toLowerCase(),r=t.word.toLowerCase(),o=t.translate.toLowerCase();if(0===r.indexOf(e)||0===o.indexOf(e))return 1})}}},{view:"button",value:"Add new group",click:function(){return t.callWindow({})}},{view:"list",select:!0,template:"#word# - #translate# <span class='editButton'>Edit</span> <span class='deleteButton'>Remove</span>",onClick:{deleteButton:function(t,e){s.a.remove(e)},editButton:function(e,n){t.callWindow(t.getItem(n))}}}]}},e.prototype.init=function(t){this._jetPopup=this.ui(a.default),t.queryView({view:"list"}).sync(s.a)},e.prototype.callWindow=function(t){this.app.callEvent("dataEditGroup",[t]),this._jetPopup.showWindow()},e.prototype.getItem=function(t){return this.getRoot().queryView({view:"list"}).getItem(t)},e}(u.b);e.default=c},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=new webix.DataCollection({data:[{id:"Noun",value:"Noun"},{id:"Adjecive",value:"Adjecive"},{id:"Pronoun",value:"Pronoun"},{id:"Numeral",value:"Numeral"},{id:"Verb",value:"Verb"},{id:"Adverb",value:"Adverb"}]})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=n(4),a=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this;return{rows:[s.default,{cols:[{},{rows:[{view:"tabbar",multiview:!0,options:[{id:"transl",icon:"globe",value:"Translate"},{id:"word",icon:"book",value:"Words"},{id:"group",icon:"list-alt",value:"Groups"},{id:"test",icon:"comment",value:"Test"}],on:{onAfterTabClick:function(e){t.show("../start/"+e)}}},{$subview:!0}]},{}]}]}},e.prototype.ready=function(){this.show("../start/transl")},e}(u.b);e.default=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){return{}},e}(u.b);e.default=s},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this;return{rows:[{view:"search",icon:"search",placeholder:"Write word",on:{onTimedKeyPress:function(){return t.filterLoad()}}},{view:"list",template:"#word# - #translate#",select:!0}]}},e.prototype.filterLoad=function(){var t=this.getRoot().queryView({view:"list"}),e=this.getRoot().queryView({view:"search"}).getValue();t.clearAll(),t.load("http://localhost:8096/word?filter="+e)},e}(u.b);e.default=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this,e={view:"button",value:"Cancel",click:function(){t.show("../start/transl")}};return{rows:[{},{cols:[{},{view:"form",width:300,elements:[{view:"text",label:"Email",name:"username"},{view:"text",type:"password",label:"Password",name:"password"},{margin:5,cols:[{view:"button",value:"Login",type:"form",click:function(){var e=t.getRoot().queryView({view:"form"}).getValues();"new"===t.getParam("user",!0)?webix.send("http://localhost:8096/user/register",e):webix.send("http://localhost:8096/user/login",e)}},e]}]},{}]},{}]}},e.prototype.urlChange=function(t){var e=this.getParam("user",!0),n=void 0;n="new"===e?"Sign in":"Log in",t.queryView({view:"button",type:"form"}).setValue(n)},e}(u.b);e.default=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(0),s=n(3),a=n(5),c=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return i(e,t),e.prototype.config=function(){var t=this;return{rows:[{view:"search",icon:"search",placeholder:"Write word",on:{onTimedKeyPress:function(){return t.filterLoad()}}},{view:"button",value:"Add new",click:function(){return t.callWindow({})}},{view:"list",select:!0,template:"#word# - #translate# <span class='editButton'>Edit</span> <span class='deleteButton'>Remove</span>",onClick:{deleteButton:function(t,e){s.a.remove(e)},editButton:function(e,n){t.callWindow(t.getItem(n))}}}]}},e.prototype.init=function(t){this._jetPopup=this.ui(a.default)},e.prototype.callWindow=function(t){this.app.callEvent("dataEditWord",[t]),this._jetPopup.showWindow()},e.prototype.getItem=function(t){return this.getRoot().queryView({view:"list"}).getItem(t)},e.prototype.filterLoad=function(){var t=this.getRoot().queryView({view:"list"}),e=this.getRoot().queryView({view:"search"}).getValue();t.clearAll(),t.load("http://localhost:8096/word?filter="+e)},e}(u.b);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20);n.n(r);throw new Error('Cannot find module "helpers/user.js"')},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(6),o=n(1),i=n(22),u=n(23),s=n(8),a=n(7),c=n(25),f=(n.n(c),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this)||this;return n.webix=e.webix||webix,n.config=n.webix.extend({name:"App",version:"1.0",start:"/home"},e,!0),n._name=n.config.name,n._services={},webix.extend(n,webix.EventSystem),n}return p(e,t),e.prototype.getService=function(t){var e=this._services[t];return"function"==typeof e&&(e=this._services[t]=e(this)),e},e.prototype.setService=function(t,e){this._services[t]=e},e.prototype.copyConfig=function(t,n,r){if(t.$ui?t={$subview:new i.a(this,"",t)}:t instanceof e&&(t={$subview:t}),t.$subview)return this.addSubView(t,n,r);n=n||(t instanceof Array?[]:{});for(var o in t){var u=t[o];"function"==typeof u&&u.prototype&&u.prototype.config&&(u={$subview:u}),!u||"object"!==(void 0===u?"undefined":f(u))||u instanceof webix.DataCollection?n[o]=u:u instanceof Date?n[o]=new Date(u):n[o]=this.copyConfig(u,u instanceof Array?[]:{},r)}return n},e.prototype.getRouter=function(){return this.$router},e.prototype.clickHandler=function(t){if(t){var e=t.target||t.srcElement;if(e&&e.getAttribute){var n=e.getAttribute("trigger");n&&this.trigger(n);var r=e.getAttribute("route");r&&this.show(r)}}},e.prototype.refresh=function(){var t=this._container;this._view.destructor(),this._view=this._container=null,this.render(t,Object(a.a)(this.getRouter().get()),this._parent)},e.prototype.loadView=function(t){var e=this,r=this.config.views,o=null;if(""===t)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{if(r&&"string"==typeof(o="function"==typeof r?r(t):r[t])&&(t=o,o=null),!o){t=t.replace(/\./g,"/");var i=n(26)("./"+t);i.__esModule&&(i=i.default),o=i}}catch(e){o=this._loadError(t,e)}return o.then||(o=Promise.resolve(o)),o=o.catch(function(n){return e._loadError(t,n)})},e.prototype.createFromURL=function(t,e){var n=this,r=t[0],o=r.page;return e&&e.getName()===o?Promise.resolve(e):this.loadView(r.page).then(function(t){return n.createView(t,o)})},e.prototype.createView=function(t,n){if("function"==typeof t){if(t.prototype&&t.prototype.show)return new t(this,n);t=t()}return t instanceof e||t instanceof o.a?t:t.$ui?new i.a(this,n,t):new u.a(this,n,t)},e.prototype.show=function(t){if(this.$router.get()===t)return Promise.resolve(!0);this._render(t)},e.prototype.canNavigate=function(t,e){var n={url:Object(a.a)(t),redirect:t,confirm:Promise.resolve(!0)};return this.callEvent("app:guard",[t,e||this._view,n])?n.confirm.then(function(){return n.redirect}):Promise.reject("")},e.prototype.destructor=function(){this._view.destructor()},e.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.apply(t,e)},e.prototype.apply=function(t,e){this.callEvent(t,e)},e.prototype.action=function(t){return this.webix.bind(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.apply(t,e)},this)},e.prototype.on=function(t,e){this.attachEvent(t,e)},e.prototype.use=function(t,e){t(this,null,e)},e.prototype.error=function(t,e){if(this.callEvent(t,e),this.callEvent("app:error",e),this.config.debug)for(var n=0;n<e.length;n++)if(console.error(e[n]),e[n]instanceof Error){var r=e[n].message;0===r.indexOf("Module build failed")?(r=r.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+r+"</pre>"):(r+="<br><br>Check console for more details",webix.message({type:"error",text:r,expire:-1}))}},e.prototype._render=function(t){var e=this;!this.$router&&(webix.attachEvent("onClick",function(t){return e.clickHandler(t)}),t=this._first_start(t));var n="string"==typeof t?t:Object(a.b)(t);return this.canNavigate(n).then(function(t){return e.$router.set(t,{silent:!0}),e._render_stage(t)}).catch(function(){return!1})},e.prototype._render_stage=function(t){var e=this,n="string"==typeof t?Object(a.a)(t):t;return webix.ui.freeze(function(){return e.createFromURL(n,e._view).then(function(t){var r=e._view;return e._view=t,t.render(e._container,n,e._parent).then(function(o){return r&&r!==e._view&&r.destructor(),e._view.getRoot().getParentView()&&(e._container=o),e._root=o,e.callEvent("app:route",[n]),t})}).catch(function(t){e.error("app:error:render",[t])})})},e.prototype._urlChange=function(t){return alert("Not implemented"),Promise.resolve(!0)},e.prototype._first_start=function(t){var e=this,n=function(t){return setTimeout(function(){e._render(t)},1)};if(this.$router=new(this.config.router||s.a)(n,this.config),this._container===document.body&&!1!==this.config.animation){var r=this._container;webix.html.addCss(r,"webixappstart"),setTimeout(function(){webix.html.removeCss(r,"webixappstart"),webix.html.addCss(r,"webixapp")},10)}return t&&1!==t.length||(t=this.$router.get()||this.config.start,this.$router.set(t,{silent:!0})),t},e.prototype._loadError=function(t,e){return this.error("app:error:resolve",[e,t]),{template:" "}},e.prototype.addSubView=function(t,e,n){var r=!0!==t.$subview?t.$subview:null,i=t.name||(r?this.webix.uid():"default");e.id=t.id||"s"+this.webix.uid();var u=n[i]={id:e.id,url:r};return u.url instanceof o.a&&(u.view=u.url),e},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o._ui=r,o._windows=[],o}return o(e,t),e.prototype.getRoot=function(){if(this.app.config.jet1xMode){var t=this.getParentView();if(t)return t.getRoot()}return this._root},e.prototype.config=function(){return this._ui.$ui||this._ui},e.prototype.destructor=function(){var e=this._ui.$ondestroy;e&&e();for(var n=0,r=this._windows;n<r.length;n++){r[n].destructor()}t.prototype.destructor.call(this)},e.prototype.show=function(e,n){if(0===e.indexOf("/")||0===e.indexOf("./"))return t.prototype.show.call(this,e,n);t.prototype.show.call(this,"../"+e,n)},e.prototype.init=function(){this.app.config.legacyEarlyInit&&this._realInitHandler()},e.prototype.ready=function(){this.app.config.legacyEarlyInit||this._realInitHandler()},e.prototype._realInitHandler=function(){var t=this._ui.$oninit;if(t){var n=this.getRoot();t(n,n.$scope)}var r=this._ui.$onevent;if(r)for(var o in r)this.on(this.app,o,r[o]);var i=this._ui.$windows;if(i)for(var u=0,s=i;u<s.length;u++){var a=s[u];if(a.$ui){var c=new e(this.app,this.getName(),a);c.render(document.body),this._windows.push(c)}else this.ui(a)}},e.prototype._urlChange=function(e){var n=this;return t.prototype._urlChange.call(this,e).then(function(){var t=n._ui.$onurlchange;if(t){var r=n.getRoot();t(e[0].params,e.slice(1),r.$scope)}})},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1),o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o._ui=r,o}return o(e,t),e.prototype.config=function(){return this._ui},e}(r.a)},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){var n,o=[],i={},u=t.routie,s=function(t,e){this.name=e,this.path=t,this.keys=[],this.fns=[],this.params={},this.regex=a(this.path,this.keys,!1,!1)};s.prototype.addHandler=function(t){this.fns.push(t)},s.prototype.removeHandler=function(t){for(var e=0,n=this.fns.length;e<n;e++){if(t==this.fns[e])return void this.fns.splice(e,1)}},s.prototype.run=function(t){for(var e=0,n=this.fns.length;e<n;e++)if(!1===this.fns[e].apply(this,t))return!1;return!0},s.prototype.match=function(t,e){var n=this.regex.exec(t);if(!n)return!1;for(var r=1,o=n.length;r<o;++r){var i=this.keys[r-1],u="string"==typeof n[r]?decodeURIComponent(n[r]):n[r];i&&(this.params[i.name]=u),e.push(u)}return!0},s.prototype.toURL=function(t){var e=this.path;for(var n in t)e=e.replace("/:"+n,"/"+t[n]);if(e=e.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=e.indexOf(":"))throw new Error("missing parameters for url: "+e);return e};var a=function(t,e,n,r){return t instanceof RegExp?t:(t instanceof Array&&(t="("+t.join("|")+")"),t=t.concat(r?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,n,r,o,i,u){return e.push({name:o,optional:!!u}),n=n||"",(u?"":n)+"(?:"+(u?n:"")+(r||"")+(i||r&&"([^/.]+?)"||"([^/]+?)")+")"+(u||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+t+"$",n?"":"i"))},c=function(t,e){var n=t.split(" "),r=2==n.length?n[0]:null;t=2==n.length?n[1]:n[0],i[t]||(i[t]=new s(t,r),o.push(i[t])),i[t].addHandler(e)},f=function t(e,n){if("function"==typeof n)c(e,n),t.reload();else if("object"==(void 0===e?"undefined":r(e))){for(var o in e)c(o,e[o]);t.reload()}else void 0===n&&t.navigate(e)};f.lookup=function(t,e){for(var n=0,r=o.length;n<r;n++){var i=o[n];if(i.name==t)return i.toURL(e)}},f.remove=function(t,e){var n=i[t];n&&n.removeHandler(e)},f.removeAll=function(){i={},o=[],n=""},f.navigate=function(t,e){e=e||{};var n=e.silent||!1;n&&v(),setTimeout(function(){window.location.hash=t,n&&setTimeout(function(){d()},1)},1)},f.noConflict=function(){return t.routie=u,f};var p=function(){return window.location.hash.substring(1)},l=function(t,e){var n=[];return e.match(t,n)?!1!==e.run(n)?1:0:-1},h=f.reload=function(){for(var t=p(),e=0,r=o.length;e<r;e++){var i=o[e],u=l(t,i);if(1===u){n=t;break}if(0===u){f.navigate(n,{silent:!0});break}}},d=function(){t.addEventListener?t.addEventListener("hashchange",h,!1):t.attachEvent("onhashchange",h)},v=function(){t.removeEventListener?t.removeEventListener("hashchange",h):t.detachEvent("onhashchange",h)};if(d(),n=p(),e)return f;t.routie=f};t.exports=o(window,!0),t.exports.default=t.exports},function(t,e){var n=webix,r=webix.version.split(".");10*r[0]+1*r[1]<52&&(n.ui.freeze=function(t){var e=t();return e&&e.then?e.then(function(t){return n.ui.$freeze=!1,n.ui.resize(),t}):(n.ui.$freeze=!1,n.ui.resize()),e})},function(t,e,n){function r(t){return n(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./group":9,"./group.js":9,"./start":11,"./start.js":11,"./templates/withRegistr":12,"./templates/withRegistr.js":12,"./templates/withoutRegistr":4,"./templates/withoutRegistr.js":4,"./test":13,"./test.js":13,"./transl":14,"./transl.js":14,"./userIN":15,"./userIN.js":15,"./windowGroup":2,"./windowGroup.js":2,"./windowWord":5,"./windowWord.js":5,"./word":16,"./word.js":16};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=26},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=new webix.DataCollection({url:"http://localhost:8096/group",save:"rest->http://localhost:8096/group/"})},function(t,e,n){"use strict";!function(){function t(t,e){this.name=e.storeName||e.id+":route",this.cb=t}t.prototype.set=function(t,e){var n=this;webix.storage.session.put(this.name,t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return webix.storage.session.get(this.name)}}()},function(t,e,n){"use strict";!function(){function t(t,e){var n=this;this.cb=t,window.onpopstate=function(){return n.cb(n.get())},this.prefix=e.routerPrefix||""}t.prototype.set=function(t,e){var n=this;this.get()!=t&&window.history.pushState(null,null,this.prefix+t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){var t=window.location.pathname.replace(this.prefix,"");return"/"!==t?t:""}}()},function(t,e,n){"use strict";!function(){function t(t,e){this.path="",this.cb=t}t.prototype.set=function(t,e){var n=this;this.path=t,e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return this.path}}()},function(t,e,n){"use strict";function r(t,e,n){e.on(t,"app:guard",function(t,r,o){if(r===e||r.contains(e)){var i=n();o.confirm=!1===i?Promise.reject(i):o.confirm.then(function(){return i})}})}e.a=r},function(t,e,n){"use strict";function r(t,e,r){r=r||{};var o=r.storage,u=o?o.get("lang")||"en":r.lang||"en",s={_:null,polyglot:null,getLang:function(){return u},setLang:function(e,a){var c=(r.path?r.path+"/":"")+e,f=n(34)("./"+c);f.__esModule&&(f=f.default);var p=s.polyglot=new i.a({phrases:f});p.locale(e),s._=webix.bind(p.t,p),u=e,o&&o.put("lang",u),a||t.refresh()}};t.setService("locale",s),s.setLang(u,!0)}e.a=r;var o=n(33),i=n.n(o)},function(t,e,n){var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,i){r=[],void 0!==(o=function(){return i(n)}.apply(e,r))&&(t.exports=o)}(this,function(t){"use strict";function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||c}function n(t){var e,n,r,o={};for(e in t)if(t.hasOwnProperty(e)){n=t[e];for(r in n)o[n[r]]=e}return o}function r(t){var e=/^\s+|\s+$/g;return t.replace(e,"")}function o(t,e,n){var o,i,u;return null!=n&&t?(i=t.split(p),u=i[s(e,n)]||i[0],o=r(u)):o=t,o}function u(t){var e=n(h);return e[t]||e.en}function s(t,e){return l[u(t)](e)}function a(t,e){for(var n in e)"_"!==n&&e.hasOwnProperty(n)&&(t=t.replace(new RegExp("%\\{"+n+"\\}","g"),e[n]));return t}function c(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function f(t){var e={};for(var n in t)e[n]=t[n];return e}e.VERSION="0.4.3",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],e&&(r=e+"."+r),"object"===(void 0===n?"undefined":i(n))?this.extend(n,r):this.phrases[r]=n)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var n,r;return e=null==e?{}:e,"number"==typeof e&&(e={smart_count:e}),"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:this.allowMissing?n=t:(this.warn('Missing translation for key: "'+t+'"'),r=t),"string"==typeof n&&(e=f(e),r=o(n,this.currentLocale,e.smart_count),r=a(r,e)),r},e.prototype.has=function(t){return t in this.phrases};var p="||||",l={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},h={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e})},function(t,e,n){function r(t){return n(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./en":17,"./en.js":17,"./ru":18,"./ru.js":18};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=34},function(t,e,n){"use strict";function r(t,e,n){e.urls&&(n=e.urls[n]||n),t.show("./"+n)}function o(t,e,n){var o=e.$$(n.id||n),i=!1;o.attachEvent("onchange",function(){i||r(e,n,this.getValue())}),o.attachEvent("onafterselect",function(){if(!i){var t=null;o.setValue?t=this.getValue():o.getSelectedId&&(t=o.getSelectedId()),r(e,n,t)}}),e.on(t,"app:route",function(t){var n=t[e.getIndex()];if(n){i=!0;var r=n.page;o.setValue&&o.getValue()!==r?o.setValue(r):o.select&&o.exists(r)&&o.getSelectedId()!==r&&o.select(r),i=!1}})}e.a=o},function(t,e,n){"use strict";function r(t,e,n){function r(t){var r=e.$$(n.target);r&&(t||(t="<div class='status_"+h+"'><span class='webix_icon fa-"+g[h]+"'></span> "+w[h]+"</div>"),r.setHTML(t))}function u(){d--,p("good")}function s(t){d--,p("error",t)}function a(t){d++,p("saving"),t&&t.then&&t.then(u,s)}function c(){return h}function f(){0==d&&r(" ")}function p(e,n){d<0&&(d=0),"saving"===e?(h="saving",r()):(v="error"===e,0===d&&(h=v?"error":"good",v?t.error("app:error:server",[n.responseText||n]):y&&setTimeout(f,y),r()))}function l(t){var n=webix.dp(t);n&&(e.on(n,"onAfterDataSend",a),e.on(n,"onAfterSaveError",function(t,e,n){return s(n)}),e.on(n,"onAfterSave",u))}var h="good",d=0,v=!1,y=n.expire;y||!1===y||(y=2e3);var w=n.texts||i,g=n.icons||o;"string"==typeof n&&(n={target:n}),t.setService("status",{getStatus:c,setStatus:p,track:l}),n.remote&&e.on(webix,"onRemoteCall",a),n.ajax&&e.on(webix,"onBeforeAjax",function(t,e,n,r,o,i,u){a(u)}),n.data&&l(n.data)}e.a=r;var o={good:"check",error:"warning",saving:"refresh fa-spin"},i={good:"Ok",error:"Error",saving:"Connecting..."}},function(t,e,n){"use strict";function r(t,e,n){n=n||{};var r=n.storage,o=r?r.get("theme")||"flat-default":n.theme||"flat-default",i={getTheme:function(){return o},setTheme:function(e,n){for(var i=e.split("-"),u=document.getElementsByTagName("link"),s=0;s<u.length;s++){var a=u[s].getAttribute("title");a&&(a===e||a===i[0]?u[s].disabled=!1:u[s].disabled=!0)}webix.skin.set(i[0]),webix.html.removeCss(document.body,"theme-"+o),webix.html.addCss(document.body,"theme-"+e),o=e,r&&r.put("theme",e),n||t.refresh()}};t.setService("theme",i),i.setTheme(o,!0)}e.a=r},function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<n.length;r++)t.setParam(n[r],e[r+1]?e[r+1].page:"")}function o(t,e,n){var o=n.route||n;e.on(t,"app:urlchange",function(t,n){e===t&&(r(e,n,o),n.splice(1,o.length))}),e.on(t,"app:paramchange",function(t,n,r,i){if(e===t&&i)for(var u=0;u<o.length;u++)if(o[u]===n)return e.show([u,r]),!1}),r(e,e.getUrl(),o)}e.a=o},function(t,e,n){"use strict";function r(t,e,n){function r(t,e){t===i?(p.logout(),e.redirect=s):t===o||p.getStatus()||(e.redirect=o)}n=n||{};var o=n.login||"/login",i=n.logout||"/logout",u=n.afterLogin||t.config.start,s=n.afterLogout||"/login",a=n.ping||3e5,c=n.model,f=n.user,p={getUser:function(){return f},getStatus:function(t){return t?c.status().catch(function(){return null}).then(function(t){f=t}):null!==f},login:function(e,n){return c.login(e,n).then(function(e){if(f=e,!e)throw"Access denied";t.show(u)})},logout:function(){return f=null,c.logout()}};t.setService("user",p),t.attachEvent("app:guard",function(t,e,n){return void 0===f&&(n.confirm=p.getStatus(!0).then(function(e){return r(t,n)})),r(t,n)}),a&&setInterval(function(){return p.getStatus(!0)},a)}e.a=r}]);